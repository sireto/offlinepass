System.register(["react","jotai/vanilla"],function(R){"use strict";var Y,Z,z,G,H,x,ee,ne,te,re;return{setters:[function(h){Y=h.createContext,Z=h.useState,z=h.useEffect,G=h.useRef,H=h.createElement,x=h.useContext,ee=h.useReducer,ne=h.useDebugValue,te=h.useCallback},function(h){re=h.atom}],execute:function(){R({atom:he,useAtom:we,useAtomValue:ce,useSetAtom:ue});const h=Symbol(),L=c=>!!c[h],O=c=>!c[h].c,_=c=>{var u;const{b:l,c:d}=c[h];d&&(d(),(u=oe.get(l))==null||u())},V=(c,u)=>{const l=c[h].o,d=u[h].o;return l===d||c===d||L(l)&&V(l,u)},j=(c,u)=>{const l={b:c,o:u,c:null},d=new Promise(f=>{l.c=()=>{l.c=null,f()},u.finally(l.c)});return d[h]=l,d},pe=c=>j(c[h].b,c[h].o),oe=new WeakMap,Re=R("SECRET_INTERNAL_registerPromiseAbort",(c,u)=>{oe.set(c,u)}),D=c=>"init"in c,I="r",B="w",N="c",U="s",ve="h",se=c=>{const u=new WeakMap,l=new WeakMap,d=new Map;if(c)for(const[n,e]of c){const r={v:e,r:0,y:!0,d:new Map};u.set(n,r)}const f=new WeakMap,v=(n,e,r)=>{let t=f.get(e);t||(t=new Map,f.set(e,t)),r.then(()=>{t.get(n)===r&&(t.delete(n),t.size||f.delete(e))}),t.set(n,r)},g=n=>{const e=new Set,r=f.get(n);return r&&(f.delete(n),r.forEach((t,s)=>{_(t),e.add(s)})),e},w=new WeakMap,b=n=>{let e=w.get(n);return e||(e=new Map,w.set(n,e)),e},p=(n,e)=>{if(n){const r=b(n);let t=r.get(e);return t||(t=p(n.p,e),t&&"p"in t&&O(t.p)&&(t=void 0),t&&r.set(e,t)),t}return u.get(e)},y=(n,e,r)=>{if(n)b(n).set(e,r);else{const t=u.get(e);u.set(e,r),d.has(e)||d.set(e,t)}},S=(n,e=new Map,r)=>{if(!r)return e;const t=new Map;let s=!1;return r.forEach(o=>{var i;const a=((i=p(n,o))==null?void 0:i.r)||0;t.set(o,a),e.get(o)!==a&&(s=!0)}),e.size===t.size&&!s?e:t},E=(n,e,r,t,s)=>{const o=p(n,e);if(o){if(s&&(!("p"in o)||!V(o.p,s)))return o;"p"in o&&_(o.p)}const i={v:r,r:(o==null?void 0:o.r)||0,y:!0,d:S(n,o==null?void 0:o.d,t)};let a=!(o!=null&&o.y);return!o||!("v"in o)||!Object.is(o.v,r)?(a=!0,++i.r,i.d.has(e)&&(i.d=new Map(i.d).set(e,i.r))):i.d!==o.d&&(i.d.size!==o.d.size||!Array.from(i.d.keys()).every(M=>o.d.has(M)))&&(a=!0,Promise.resolve().then(()=>{T(n)})),o&&!a?o:(y(n,e,i),i)},m=(n,e,r,t,s)=>{const o=p(n,e);if(o){if(s&&(!("p"in o)||!V(o.p,s)))return o;"p"in o&&_(o.p)}const i={e:r,r:((o==null?void 0:o.r)||0)+1,y:!0,d:S(n,o==null?void 0:o.d,t)};return y(n,e,i),i},C=(n,e,r,t)=>{const s=p(n,e);if(s&&"p"in s){if(V(s.p,r)&&!O(s.p))return s.y?s:{...s,y:!0};_(s.p)}v(n,e,r);const o={p:r,r:((s==null?void 0:s.r)||0)+1,y:!0,d:S(n,s==null?void 0:s.d,t)};return y(n,e,o),o},W=(n,e,r,t)=>{if(r instanceof Promise){const s=j(r,r.then(o=>{E(n,e,o,t,s)}).catch(o=>{if(o instanceof Promise)return L(o)?o.then(()=>{P(n,e,!0)}):o;m(n,e,o,t,s)}));return C(n,e,s,t)}return E(n,e,r,t)},Ee=(n,e)=>{const r=p(n,e);if(r){const t={...r,y:!1};y(n,e,t)}},P=(n,e,r)=>{if(!r){const s=p(n,e);if(s){if(s.y&&"p"in s&&!O(s.p))return s;if(s.d.forEach((o,i)=>{if(i!==e)if(!l.has(i))P(n,i);else{const a=p(n,i);a&&!a.y&&P(n,i)}}),Array.from(s.d).every(([o,i])=>{const a=p(n,o);return a&&!("p"in a)&&a.r===i}))return s.y?s:{...s,y:!0}}}const t=new Set;try{const s=e.read(o=>{t.add(o);const i=o===e?p(n,o):P(n,o);if(i){if("e"in i)throw i.e;if("p"in i)throw i.p;return i.v}if(D(o))return o.init;throw new Error("no atom init")});return W(n,e,s,t)}catch(s){if(s instanceof Promise){const o=L(s)&&O(s)?pe(s):j(s,s);return C(n,e,o,t)}return m(n,e,s,t)}},me=(n,e)=>P(e,n),ge=(n,e)=>{let r=l.get(e);return r||(r=K(n,e)),r},F=(n,e)=>!e.l.size&&(!e.t.size||e.t.size===1&&e.t.has(n)),ye=(n,e)=>{const r=l.get(e);r&&F(e,r)&&Q(n,e)},J=(n,e)=>{const r=l.get(e);r==null||r.t.forEach(t=>{t!==e&&(Ee(n,t),J(n,t))})},ae=(n,e,r)=>{let t=!0;const s=(a,M)=>{const A=P(n,a);if("e"in A)throw A.e;if("p"in A){if(M!=null&&M.unstable_promise)return A.p.then(()=>{const k=p(n,a);return k&&"p"in k&&k.p===A.p?new Promise(X=>setTimeout(X)).then(()=>s(a,M)):s(a,M)});throw A.p}if("v"in A)return A.v;throw new Error("no value found")},o=(a,M)=>{let A;if(a===e){if(!D(a))throw new Error("atom not writable");g(a).forEach(de=>{de!==n&&W(de,a,M)});const k=p(n,a),X=W(n,a,M);k!==X&&J(n,a)}else A=ae(n,a,M);return t||T(n),A},i=e.write(s,o,r);return t=!1,i},le=(n,e,r)=>{const t=ae(r,n,e);return T(r),t},Se=n=>!!n.write,K=(n,e,r)=>{const t={t:new Set(r&&[r]),l:new Set};if(l.set(e,t),P(void 0,e).d.forEach((s,o)=>{const i=l.get(o);i?i.t.add(e):o!==e&&K(n,o,e)}),Se(e)&&e.onMount){const s=i=>le(e,i,n),o=e.onMount(s);n=void 0,o&&(t.u=o)}return t},Q=(n,e)=>{var r;const t=(r=l.get(e))==null?void 0:r.u;t&&t(),l.delete(e);const s=p(n,e);s&&("p"in s&&_(s.p),s.d.forEach((o,i)=>{if(i!==e){const a=l.get(i);a&&(a.t.delete(e),F(i,a)&&Q(n,i))}}))},fe=(n,e,r,t)=>{const s=new Set(r.d.keys());t==null||t.forEach((o,i)=>{if(s.has(i)){s.delete(i);return}const a=l.get(i);a&&(a.t.delete(e),F(i,a)&&Q(n,i))}),s.forEach(o=>{const i=l.get(o);i?i.t.add(e):l.has(e)&&K(n,o,e)})},T=n=>{if(n){b(n).forEach((e,r)=>{const t=u.get(r);if(e!==t){const s=l.get(r);s==null||s.l.forEach(o=>o(n))}});return}for(;d.size;){const e=Array.from(d);d.clear(),e.forEach(([r,t])=>{const s=p(void 0,r);if(s&&s.d!==(t==null?void 0:t.d)&&fe(void 0,r,s,t==null?void 0:t.d),t&&!t.y&&s!=null&&s.y)return;const o=l.get(r);o==null||o.l.forEach(i=>i())})}},Ae=n=>{b(n).forEach((e,r)=>{const t=u.get(r);(!t||e.r>t.r||e.y!==t.y||e.r===t.r&&e.d!==t.d)&&(u.set(r,e),e.d!==(t==null?void 0:t.d)&&fe(n,r,e,t==null?void 0:t.d))})},Me=(n,e)=>{e&&Ae(e),T(void 0)},be=(n,e,r)=>{const t=ge(r,n).l;return t.add(e),()=>{t.delete(e),ye(r,n)}},Pe=(n,e)=>{for(const[r,t]of n)D(r)&&(W(e,r,t),J(e,r));T(e)};return{[I]:me,[B]:le,[N]:Me,[U]:be,[ve]:Pe}},_e=R("unstable_createStore",c=>{const u=se(c),l=f=>{const v=u[I](f);if("e"in v)throw v.e;if(!("p"in v))return v.v},d=f=>new Promise((v,g)=>{const w=u[I](f);"e"in w?g(w.e):"p"in w?v(w.p.then(()=>d(f))):v(w.v)});return{get:l,asyncGet:d,set:(f,v)=>u[B](f,v),sub:(f,v)=>u[U](f,v),SECRET_INTERNAL_store:u}}),ie=(c,u)=>({s:u?u(c).SECRET_INTERNAL_store:se(c)}),$=new Map,q=R("SECRET_INTERNAL_getScopeContext",c=>($.has(c)||$.set(c,Y(ie())),$.get(c))),Ce=R("Provider",({children:c,initialValues:u,scope:l,unstable_createStore:d,unstable_enableVersionedWrite:f})=>{const[v,g]=Z({});z(()=>{const p=w.current;p.w&&(p.s[N](null,v),delete v.p,p.v=v)},[v]);const w=G();if(!w.current){const p=ie(u,d);if(f){let y=0;p.w=S=>{g(E=>{const m=y?E:{p:E};return S(m),m})},p.v=v,p.r=S=>{++y,S(),--y}}w.current=p}const b=q(l);return H(b.Provider,{value:w.current},c)});function he(c,u){return re(c,u)}function ce(c,u){const l=q(u),d=x(l),{s:f,v}=d,g=E=>{const m=f[I](c,E);if("e"in m)throw m.e;if("p"in m)throw m.p;if("v"in m)return m.v;throw new Error("no atom value")},[[w,b,p],y]=ee((E,m)=>{const C=g(m);return Object.is(E[1],C)&&E[2]===c?E:[m,C,c]},v,E=>{const m=g(E);return[E,m,c]});let S=b;return p!==c&&(y(w),S=g(w)),z(()=>{const{v:E}=d;E&&f[N](c,E);const m=f[U](c,y,E);return y(E),m},[f,c,d]),z(()=>{f[N](c,w)}),ne(S),S}function ue(c,u){const l=q(u),{s:d,w:f}=x(l);return te(v=>{const g=w=>d[B](c,v,w);return f?f(g):g()},[d,f,c])}function we(c,u){return"scope"in c&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),u=c.scope),[ce(c,u),ue(c,u)]}}}});
